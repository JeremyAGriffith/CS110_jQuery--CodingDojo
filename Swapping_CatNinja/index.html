<html>
<head>
	<title>jQuery - Intermediate 2 && Optional</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">

	<style>
		ul{
			list-style: none;
		}
		li{
			margin-top: 2px;
		}
	</style>

	<script>
		$(document).ready(function(){
			$("ul").sortable();
			if (Math.random() > 0.5){
				$("#cat_ninja").children().children().each(function(index){
					swap($(this), "src", "data-alt");
				});
			}
			$("#cat_ninja").html(shuffle($("#cat_ninja").children()));

			function shuffle (arr) {
				var currIndex = arr.length, randIndex = 0, temp = 0;

				while (currIndex > 0){
					// pick whicj element to swap the current one with
					// random() returns between 0 & 1 exclusive 
					randIndex = Math.floor(Math.random() * currIndex);
					currIndex--;

					temp = arr[currIndex];
					arr[currIndex] = arr[randIndex];
					arr[randIndex] = temp;
				}
				return arr;
			}

			function swap (item, attr_a, attr_b) {
				var file_name = item.attr(attr_a);
				item.attr(attr_a, item.attr(attr_b));
				item.attr(attr_b, file_name);
			}

			// when an image is clicked switch between a cat or ninja but preserve its 1-5 section # of the whole image
			// change the source file name using .attr() and ternary operator
			$("img").on('click', function(){
				swap($(this), "src", "data-alt");
			});
		});
	</script>
</head>
<body>
	<div class="container">
		<h1>jQuery - Cat | Ninja mambo</h1>
		<h5>click the slices to swap between a cat & a ninja.</h5>
		<h5>drag the slices to try to solve the jumbled image.</h5>
		<div class="row">
			<div class="span4">
				<ul id="cat_ninja">
					<li><img src="nin1.png" data-alt="cat1.png" /></li>
					<li><img src="nin2.png" data-alt="cat2.png" /></li>
					<li><img src="nin3.png" data-alt="cat3.png" /></li>
					<li><img src="nin4.png" data-alt="cat4.png" /></li>
					<li><img src="nin5.png" data-alt="cat5.png" /></li>
				</ul>
			</div>
		</div>
	</div>
</body>
</html>